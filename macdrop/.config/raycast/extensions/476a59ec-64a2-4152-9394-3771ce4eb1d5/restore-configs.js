"use strict";var a=Object.defineProperty;var z=Object.getOwnPropertyDescriptor;var x=Object.getOwnPropertyNames;var k=Object.prototype.hasOwnProperty;var P=(t,r)=>{for(var o in r)a(t,o,{get:r[o],enumerable:!0})},w=(t,r,o,c)=>{if(r&&typeof r=="object"||typeof r=="function")for(let n of x(r))!k.call(t,n)&&n!==o&&a(t,n,{get:()=>r[n],enumerable:!(c=z(r,n))||c.enumerable});return t};var j=t=>w(a({},"__esModule",{value:!0}),t);var L={};P(L,{default:()=>v});module.exports=j(L);var s=require("@raycast/api"),g=require("fs");var p=require("@raycast/api"),m=require("os"),l=require("path"),S=(0,p.getPreferenceValues)(),_=(0,m.homedir)(),f=S.repoPath,F=f?(0,l.join)(f,"config"):"";function e(t,r){return{homeRelative:t,repoRelative:r,homePath:(0,l.join)(_,t),repoPath:(0,l.join)(F,r),name:r.split("/").pop()||r}}var h=[e(".aliases","shell/aliases"),e(".exports","shell/exports"),e(".functions","shell/functions"),e(".path","shell/path"),e(".env","shell/env"),e(".inputrc","shell/inputrc"),e(".zshrc","zsh/zshrc"),e(".zprofile","zsh/zprofile"),e(".zshenv","zsh/zshenv"),e(".zlogin","zsh/zlogin"),e(".zlogout","zsh/zlogout"),e(".bashrc","bash/bashrc"),e(".bash_profile","bash/bash_profile"),e(".bash_login","bash/bash_login"),e(".bash_logout","bash/bash_logout"),e(".profile","bash/profile"),e(".config/fish/config.fish","fish/config.fish"),e(".config/starship.toml","starship/starship.toml"),e(".p10k.zsh","zsh/p10k.zsh"),e(".gitconfig","git/gitconfig"),e(".gitignore_global","git/gitignore_global"),e(".config/git/config","git/config"),e(".config/git/attributes","git/attributes"),e(".config/git/ignore","git/ignore"),e(".config/gh/config.yml","git/gh-config.yml"),e(".config/glab-cli/config.yml","git/glab-config.yml"),e(".vimrc","vim/vimrc"),e(".config/nvim/init.lua","nvim/init.lua"),e(".emacs","emacs/emacs"),e(".emacs.d/init.el","emacs/init.el"),e("Library/Application Support/Code/User/settings.json","vscode/settings.json"),e("Library/Application Support/Code/User/keybindings.json","vscode/keybindings.json"),e("Library/Application Support/Code/User/mcp.json","vscode/mcp.json"),e(".vscode/vscode-extensions","vscode/vscode-extensions"),e(".config/zed/settings.json","zed/settings.json"),e(".config/kitty/kitty.conf","kitty/kitty.conf"),e(".config/alacritty/alacritty.yml","alacritty/alacritty.yml"),e(".wezterm.lua","wezterm/wezterm.lua"),e(".config/ghostty/config","ghostty/config"),e("Library/Preferences/com.googlecode.iterm2.plist","iterm2/com.googlecode.iterm2.plist"),e("Library/Preferences/dev.warp.Warp-Stable.plist","warp/dev.warp.Warp-Stable.plist"),e("Library/Preferences/com.apple.Terminal.plist","terminal/com.apple.Terminal.plist"),e(".tmux.conf","tmux/tmux.conf"),e(".config/tmux/tmux.conf","tmux/tmux.conf.xdg"),e(".screenrc","screen/screenrc"),e(".config/ruff/ruff.toml","ruff/ruff.toml"),e(".pylintrc","python/pylintrc"),e(".flake8","python/flake8"),e(".prettierrc","prettier/prettierrc"),e(".prettierrc.json","prettier/prettierrc.json"),e(".prettierignore","prettier/prettierignore"),e(".editorconfig","editor/editorconfig"),e(".clang-format","clang/clang-format"),e(".rustfmt.toml","rust/rustfmt.toml"),e(".eslintrc.json","eslint/eslintrc.json"),e(".eslintrc.js","eslint/eslintrc.js"),e(".eslintignore","eslint/eslintignore"),e(".stylelintrc.json","stylelint/stylelintrc.json"),e(".stylelintrc","stylelint/stylelintrc"),e(".stylelintignore","stylelint/stylelintignore"),e(".shellcheckrc","shellcheck/shellcheckrc"),e(".config/bat/config","bat/config"),e(".config/delta/delta.toml","delta/delta.toml"),e(".config/tldr/config.json","tldr/config.json"),e(".fzf.zsh","fzf/fzf.zsh"),e(".fzf.bash","fzf/fzf.bash"),e(".ripgreprc","ripgrep/ripgreprc"),e(".agignore","ignore/agignore"),e(".ignore","ignore/ignore"),e(".curlrc","net/curlrc"),e(".wgetrc","net/wgetrc"),e(".tool-versions","asdf/tool-versions"),e(".sdkman/etc/config","sdkman/config"),e(".pyenv/version","pyenv/version"),e(".rbenv/version","rbenv/version"),e(".nodenv/version","nodenv/version"),e(".swiftenv/shims/.version","swiftenv/version"),e(".irbrc","ruby/irbrc"),e(".pryrc","ruby/pryrc"),e(".cargo/config.toml","rust/cargo-config.toml"),e(".config/go/env","go/env"),e(".npmrc","node/npmrc"),e(".yarnrc","node/yarnrc"),e(".yarnrc.yml","node/yarnrc.yml"),e(".config/pnpm/rc","node/pnpmrc"),e(".gemrc","ruby/gemrc"),e("Brewfile","brew/Brewfile"),e(".ssh/config","ssh/config"),e(".ssh/known_hosts","ssh/known_hosts"),e(".gdbinit","gdb/gdbinit"),e(".config/gdb/gdbinit","gdb/gdbinit.xdg")];var i=require("fs"),u=require("path"),y=require("@raycast/api");function d(t,r){try{if(!(0,i.existsSync)(t)||!(0,i.existsSync)(r))return!1;let o=(0,i.readFileSync)(t,"utf8"),c=(0,i.readFileSync)(r,"utf8");return o===c}catch{return!1}}function D(t){let r=(0,u.dirname)(t);(0,i.existsSync)(r)||(0,i.mkdirSync)(r,{recursive:!0})}function b(t,r){D(r),(0,i.copyFileSync)(t,r)}function I(t){if(!(0,g.existsSync)(t.repoPath))return console.log(`\u26A0\uFE0F  Skipping ${t.name} (doesn't exist in repo)`),"skip_missing";if((0,g.existsSync)(t.homePath)&&d(t.repoPath,t.homePath))return console.log(`\u23ED\uFE0F  Skipping ${t.name} (files are identical)`),"skip_identical";try{return b(t.repoPath,t.homePath),console.log(`\u2705 ${t.name} \u2192 ${t.homePath}`),"success"}catch(r){return console.log(`\u274C Failed to restore ${t.name}: ${r}`),"error"}}async function v(){try{await(0,s.showToast)({style:s.Toast.Style.Animated,title:"Restoring dotfiles...",message:"Copying from repo to home directory"}),console.log("\u{1F680} Restoring dotfiles from repo -> home directory...");let t=0,r=0;for(let c of h){let n=I(c);n==="success"?t++:(n==="skip_missing"||n==="skip_identical")&&r++}let o=`Restore complete! ${t} files restored, ${r} skipped.`;console.log(`\u{1F389} ${o}`),await(0,s.showHUD)(`\u{1F389} ${o}`)}catch(t){await(0,s.showToast)({style:s.Toast.Style.Failure,title:"Restore failed",message:String(t)})}}
