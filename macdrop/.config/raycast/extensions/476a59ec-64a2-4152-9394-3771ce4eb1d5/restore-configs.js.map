{
  "version": 3,
  "sources": ["../src/restore-configs.ts", "../src/dotfiles.ts", "../src/utils.ts"],
  "sourcesContent": ["import { showHUD, showToast, Toast } from \"@raycast/api\";\nimport { existsSync } from \"fs\";\nimport { DOTFILES } from \"./dotfiles\";\nimport { filesAreIdentical, copyFile, OperationResult } from \"./utils\";\n\nfunction restoreDotfile(dotfile: (typeof DOTFILES)[0]): OperationResult {\n  if (!existsSync(dotfile.repoPath)) {\n    console.log(`\u26A0\uFE0F  Skipping ${dotfile.name} (doesn't exist in repo)`);\n    return \"skip_missing\";\n  }\n\n  // Check if files are identical\n  if (existsSync(dotfile.homePath)) {\n    if (filesAreIdentical(dotfile.repoPath, dotfile.homePath)) {\n      console.log(`\u23ED\uFE0F  Skipping ${dotfile.name} (files are identical)`);\n      return \"skip_identical\";\n    }\n  }\n\n  try {\n    copyFile(dotfile.repoPath, dotfile.homePath);\n    console.log(`\u2705 ${dotfile.name} \u2192 ${dotfile.homePath}`);\n    return \"success\";\n  } catch (error) {\n    console.log(`\u274C Failed to restore ${dotfile.name}: ${error}`);\n    return \"error\";\n  }\n}\n\nexport default async function main() {\n  try {\n    await showToast({\n      style: Toast.Style.Animated,\n      title: \"Restoring dotfiles...\",\n      message: \"Copying from repo to home directory\",\n    });\n\n    console.log(\"\uD83D\uDE80 Restoring dotfiles from repo -> home directory...\");\n\n    let successCount = 0;\n    let skipCount = 0;\n\n    for (const dotfile of DOTFILES) {\n      const result = restoreDotfile(dotfile);\n      if (result === \"success\") {\n        successCount++;\n      } else if (result === \"skip_missing\" || result === \"skip_identical\") {\n        skipCount++;\n      }\n    }\n\n    const message = `Restore complete! ${successCount} files restored, ${skipCount} skipped.`;\n    console.log(`\uD83C\uDF89 ${message}`);\n\n    await showHUD(`\uD83C\uDF89 ${message}`);\n  } catch (error) {\n    await showToast({\n      style: Toast.Style.Failure,\n      title: \"Restore failed\",\n      message: String(error),\n    });\n  }\n}\n", "import { getPreferenceValues } from \"@raycast/api\";\nimport { homedir } from \"os\";\nimport { join } from \"path\";\n\nexport interface DotFile {\n  homeRelative: string;\n  repoRelative: string;\n  homePath: string;\n  repoPath: string;\n  name: string;\n}\n\ninterface Preferences {\n  repoPath: string;\n}\n\nconst preferences = getPreferenceValues<Preferences>();\nconst HOME_DIR = homedir();\nconst REPO_DIR = preferences.repoPath;\nconst CONFIG_DIR = REPO_DIR ? join(REPO_DIR, \"config\") : \"\";\n\nexport function validatePreferences(): void {\n  if (!preferences.repoPath) {\n    throw new Error(\"Please set the repoPath in preferences\");\n  }\n}\n\nfunction createDotFile(homeRelative: string, repoRelative: string): DotFile {\n  return {\n    homeRelative,\n    repoRelative,\n    homePath: join(HOME_DIR, homeRelative),\n    repoPath: join(CONFIG_DIR, repoRelative),\n    name: repoRelative.split(\"/\").pop() || repoRelative,\n  };\n}\n\nexport const DOTFILES: DotFile[] = [\n  // ========== Shell ==========\n  createDotFile(\".aliases\", \"shell/aliases\"),\n  createDotFile(\".exports\", \"shell/exports\"),\n  createDotFile(\".functions\", \"shell/functions\"),\n  createDotFile(\".path\", \"shell/path\"),\n  createDotFile(\".env\", \"shell/env\"),\n  createDotFile(\".inputrc\", \"shell/inputrc\"),\n\n  // ========== Zsh ==========\n  createDotFile(\".zshrc\", \"zsh/zshrc\"),\n  createDotFile(\".zprofile\", \"zsh/zprofile\"),\n  createDotFile(\".zshenv\", \"zsh/zshenv\"),\n  createDotFile(\".zlogin\", \"zsh/zlogin\"),\n  createDotFile(\".zlogout\", \"zsh/zlogout\"),\n\n  // ========== Bash ==========\n  createDotFile(\".bashrc\", \"bash/bashrc\"),\n  createDotFile(\".bash_profile\", \"bash/bash_profile\"),\n  createDotFile(\".bash_login\", \"bash/bash_login\"),\n  createDotFile(\".bash_logout\", \"bash/bash_logout\"),\n  createDotFile(\".profile\", \"bash/profile\"),\n\n  // ========== Fish ==========\n  createDotFile(\".config/fish/config.fish\", \"fish/config.fish\"),\n\n  // ========== Prompts & Terminal tools ==========\n  createDotFile(\".config/starship.toml\", \"starship/starship.toml\"),\n  createDotFile(\".p10k.zsh\", \"zsh/p10k.zsh\"),\n\n  // ========== Git ==========\n  createDotFile(\".gitconfig\", \"git/gitconfig\"),\n  createDotFile(\".gitignore_global\", \"git/gitignore_global\"),\n  createDotFile(\".config/git/config\", \"git/config\"),\n  createDotFile(\".config/git/attributes\", \"git/attributes\"),\n  createDotFile(\".config/git/ignore\", \"git/ignore\"),\n  createDotFile(\".config/gh/config.yml\", \"git/gh-config.yml\"),\n  createDotFile(\".config/glab-cli/config.yml\", \"git/glab-config.yml\"),\n\n  // ========== Editors ==========\n  // Vim/Neovim\n  createDotFile(\".vimrc\", \"vim/vimrc\"),\n  createDotFile(\".config/nvim/init.lua\", \"nvim/init.lua\"),\n  // Emacs\n  createDotFile(\".emacs\", \"emacs/emacs\"),\n  createDotFile(\".emacs.d/init.el\", \"emacs/init.el\"),\n  // VS Code\n  createDotFile(\n    \"Library/Application Support/Code/User/settings.json\",\n    \"vscode/settings.json\",\n  ),\n  createDotFile(\n    \"Library/Application Support/Code/User/keybindings.json\",\n    \"vscode/keybindings.json\",\n  ),\n  createDotFile(\n    \"Library/Application Support/Code/User/mcp.json\",\n    \"vscode/mcp.json\",\n  ),\n  createDotFile(\".vscode/vscode-extensions\", \"vscode/vscode-extensions\"), // via 'code --list-extensions > vscode-extensions'\n  // Zed\n  createDotFile(\".config/zed/settings.json\", \"zed/settings.json\"),\n\n  // ========== Terminal emulators ==========\n  // Kitty\n  createDotFile(\".config/kitty/kitty.conf\", \"kitty/kitty.conf\"),\n  // Alacritty\n  createDotFile(\".config/alacritty/alacritty.yml\", \"alacritty/alacritty.yml\"),\n  // WezTerm\n  createDotFile(\".wezterm.lua\", \"wezterm/wezterm.lua\"),\n  // Ghostty\n  createDotFile(\".config/ghostty/config\", \"ghostty/config\"),\n  // iTerm2\n  createDotFile(\n    \"Library/Preferences/com.googlecode.iterm2.plist\",\n    \"iterm2/com.googlecode.iterm2.plist\",\n  ),\n  // Warp\n  createDotFile(\n    \"Library/Preferences/dev.warp.Warp-Stable.plist\",\n    \"warp/dev.warp.Warp-Stable.plist\",\n  ),\n  // Terminal.app\n  createDotFile(\n    \"Library/Preferences/com.apple.Terminal.plist\",\n    \"terminal/com.apple.Terminal.plist\",\n  ),\n\n  // ========== Multiplexers ==========\n  // Tmux\n  createDotFile(\".tmux.conf\", \"tmux/tmux.conf\"),\n  createDotFile(\".config/tmux/tmux.conf\", \"tmux/tmux.conf.xdg\"),\n  // Screen\n  createDotFile(\".screenrc\", \"screen/screenrc\"),\n\n  // ========== Linters/Formatters ==========\n  createDotFile(\".config/ruff/ruff.toml\", \"ruff/ruff.toml\"),\n  createDotFile(\".pylintrc\", \"python/pylintrc\"),\n  createDotFile(\".flake8\", \"python/flake8\"),\n  createDotFile(\".prettierrc\", \"prettier/prettierrc\"),\n  createDotFile(\".prettierrc.json\", \"prettier/prettierrc.json\"),\n  createDotFile(\".prettierignore\", \"prettier/prettierignore\"),\n  createDotFile(\".editorconfig\", \"editor/editorconfig\"),\n  createDotFile(\".clang-format\", \"clang/clang-format\"),\n  createDotFile(\".rustfmt.toml\", \"rust/rustfmt.toml\"),\n  createDotFile(\".eslintrc.json\", \"eslint/eslintrc.json\"),\n  createDotFile(\".eslintrc.js\", \"eslint/eslintrc.js\"),\n  createDotFile(\".eslintignore\", \"eslint/eslintignore\"),\n  createDotFile(\".stylelintrc.json\", \"stylelint/stylelintrc.json\"),\n  createDotFile(\".stylelintrc\", \"stylelint/stylelintrc\"),\n  createDotFile(\".stylelintignore\", \"stylelint/stylelintignore\"),\n  createDotFile(\".shellcheckrc\", \"shellcheck/shellcheckrc\"),\n\n  // ========== CLI Tools ==========\n  createDotFile(\".config/bat/config\", \"bat/config\"),\n  createDotFile(\".config/delta/delta.toml\", \"delta/delta.toml\"),\n  createDotFile(\".config/tldr/config.json\", \"tldr/config.json\"),\n  createDotFile(\".fzf.zsh\", \"fzf/fzf.zsh\"),\n  createDotFile(\".fzf.bash\", \"fzf/fzf.bash\"),\n  createDotFile(\".ripgreprc\", \"ripgrep/ripgreprc\"),\n  createDotFile(\".agignore\", \"ignore/agignore\"),\n  createDotFile(\".ignore\", \"ignore/ignore\"),\n  createDotFile(\".curlrc\", \"net/curlrc\"),\n  createDotFile(\".wgetrc\", \"net/wgetrc\"),\n\n  // ========== Language env managers ==========\n  createDotFile(\".tool-versions\", \"asdf/tool-versions\"),\n  createDotFile(\".sdkman/etc/config\", \"sdkman/config\"),\n  createDotFile(\".pyenv/version\", \"pyenv/version\"),\n  createDotFile(\".rbenv/version\", \"rbenv/version\"),\n  createDotFile(\".nodenv/version\", \"nodenv/version\"),\n  createDotFile(\".swiftenv/shims/.version\", \"swiftenv/version\"),\n  createDotFile(\".irbrc\", \"ruby/irbrc\"),\n  createDotFile(\".pryrc\", \"ruby/pryrc\"),\n  createDotFile(\".cargo/config.toml\", \"rust/cargo-config.toml\"),\n  createDotFile(\".config/go/env\", \"go/env\"),\n\n  // ========== Package Managers ==========\n  createDotFile(\".npmrc\", \"node/npmrc\"),\n  createDotFile(\".yarnrc\", \"node/yarnrc\"),\n  createDotFile(\".yarnrc.yml\", \"node/yarnrc.yml\"),\n  createDotFile(\".config/pnpm/rc\", \"node/pnpmrc\"),\n  createDotFile(\".gemrc\", \"ruby/gemrc\"),\n  createDotFile(\"Brewfile\", \"brew/Brewfile\"), // via 'brew bundle dump'\n\n  // ========== SSH ==========\n  createDotFile(\".ssh/config\", \"ssh/config\"),\n  createDotFile(\".ssh/known_hosts\", \"ssh/known_hosts\"),\n\n  // ========== Debuggers ==========\n  createDotFile(\".gdbinit\", \"gdb/gdbinit\"),\n  createDotFile(\".config/gdb/gdbinit\", \"gdb/gdbinit.xdg\"),\n];\n", "import { existsSync, readFileSync, copyFileSync, mkdirSync } from \"fs\";\nimport { dirname } from \"path\";\nimport { DotFile } from \"./dotfiles\";\nimport { LaunchType, launchCommand } from \"@raycast/api\";\n\nexport type OperationResult =\n  | \"success\"\n  | \"skip_missing\"\n  | \"skip_identical\"\n  | \"error\";\n\nexport function filesAreIdentical(path1: string, path2: string): boolean {\n  try {\n    if (!existsSync(path1) || !existsSync(path2)) {\n      return false;\n    }\n    const content1 = readFileSync(path1, \"utf8\");\n    const content2 = readFileSync(path2, \"utf8\");\n    return content1 === content2;\n  } catch {\n    return false;\n  }\n}\n\nexport function ensureDirectoryExists(filePath: string): void {\n  const dir = dirname(filePath);\n  if (!existsSync(dir)) {\n    mkdirSync(dir, { recursive: true });\n  }\n}\n\nexport function copyFile(source: string, destination: string): void {\n  ensureDirectoryExists(destination);\n  copyFileSync(source, destination);\n}\n\nexport function getFileStatus(dotfile: DotFile): string {\n  const repoExists = existsSync(dotfile.repoPath);\n  const homeExists = existsSync(dotfile.homePath);\n\n  if (repoExists && homeExists) {\n    if (filesAreIdentical(dotfile.repoPath, dotfile.homePath)) {\n      return \"\u2705\"; // Same\n    } else {\n      return \"\uD83D\uDD04\"; // Different\n    }\n  } else if (repoExists && !homeExists) {\n    return \"\uD83D\uDCE5\"; // Only in repo\n  } else if (!repoExists && homeExists) {\n    return \"\uD83D\uDCE4\"; // Only in home\n  } else {\n    return \"\u274C\"; // Missing everywhere\n  }\n}\n\nexport function runCommand(commandName: string): void {\n  // Launch a command within the same extension\n  launchCommand({\n    name: commandName,\n    type: LaunchType.UserInitiated,\n  });\n}\n"],
  "mappings": "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",
  "names": ["restore_configs_exports", "__export", "main", "__toCommonJS", "import_api", "import_fs", "import_api", "import_os", "import_path", "preferences", "HOME_DIR", "REPO_DIR", "CONFIG_DIR", "createDotFile", "homeRelative", "repoRelative", "HOME_DIR", "CONFIG_DIR", "DOTFILES", "import_fs", "import_path", "import_api", "filesAreIdentical", "path1", "path2", "content1", "content2", "ensureDirectoryExists", "filePath", "dir", "copyFile", "source", "destination", "restoreDotfile", "dotfile", "filesAreIdentical", "copyFile", "error", "main", "successCount", "skipCount", "DOTFILES", "result", "message"]
}
